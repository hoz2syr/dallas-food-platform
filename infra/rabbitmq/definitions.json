{
  "users": [
    { "name": "admin", "password": "admin123", "tags": "administrator" },
    { "name": "order_service", "password": "order_service_pass", "tags": "management" },
    { "name": "delivery_service", "password": "delivery_service_pass", "tags": "management" }
  ],
  "vhosts": [ { "name": "/" } ],
  "permissions": [
    { "user": "order_service", "vhost": "/", "configure": ".*", "write": ".*", "read": ".*" },
    { "user": "delivery_service", "vhost": "/", "configure": ".*", "write": ".*", "read": ".*" }
  ],
  "exchanges": [
    { "name": "order.events", "vhost": "/", "type": "topic", "durable": true, "auto_delete": false, "internal": false, "arguments": {} },
    { "name": "delivery.events", "vhost": "/", "type": "direct", "durable": true, "auto_delete": false, "internal": false, "arguments": {} }
  ],
  "queues": [
    { "name": "order.status.updates", "vhost": "/", "durable": true, "auto_delete": false, "arguments": { "x-dead-letter-exchange": "dead.letter.exchange" } },
    { "name": "delivery.assignments", "vhost": "/", "durable": true, "auto_delete": false, "arguments": {} },
    { "name": "notifications.queue", "vhost": "/", "durable": true, "auto_delete": false, "arguments": {} },
    { "name": "dead.letter.queue", "vhost": "/", "durable": true, "auto_delete": false, "arguments": {} }
  ],
  "bindings": [
    { "source": "order.events", "vhost": "/", "destination": "order.status.updates", "destination_type": "queue", "routing_key": "order.status.#", "arguments": {} },
    { "source": "delivery.events", "vhost": "/", "destination": "delivery.assignments", "destination_type": "queue", "routing_key": "delivery.assignment", "arguments": {} }
  ]
}
